<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>New company</title>
</h:head>
<h:body>
	<h2>
		<h:outputText value="Add company"/>
	</h2>
	<h:link value="Home" outcome="companies.xhtml"/>
	<br/>
	<br/>
	<h:form>
		<h:panelGrid columns = "3">
			<h:outputLabel for = "name" value = "Name" style="font-weight:bold"/>
			<h:inputText id = "name" value="#{companyBean.company.name}" p:placeholder="Name of company"  
				required="true" requiredMessage="Company name is required"/>
			<h:message for="name" style="color:red"></h:message>		
		
			<h:outputLabel for = "manager" value = "Manager" style="font-weight:bold"/>
			<h:inputText id = "manager" value="#{companyBean.company.managername}" p:placeholder="Company manager's name"
				required="true" requiredMessage="Manager name is required"/>
			<h:message for="manager" style="color:red"></h:message>
			
			<h:outputLabel for = "own" value = "Ownership" style="font-weight:bold"/>
			<h:selectOneMenu id = "own" value="#{companyBean.company.ownership}"
				required="true" requiredMessage="Ownership is required">
				<f:selectItems value = "#{ownership.all}" var="owsh" itemValue="#{owsh.id}" itemLabel = "#{owsh.description}" />
			</h:selectOneMenu>	
			<h:message for="own" style="color:red"></h:message>
			
			<h:outputLabel for = "leg" value = "Legal form" style="font-weight:bold"/>
			<h:selectOneMenu id = "leg" value="#{companyBean.company.legalform}"
				required="true" requiredMessage="Legal form is required">
				<f:selectItems value="#{legalform.all}" var="frm" itemValue="#{frm.id}" itemLabel="#{frm.description}"/>
			</h:selectOneMenu>
			<h:message for="leg" style="color:red"></h:message>
			
			<h:outputLabel for = "fax" value = "Fax" style="font-weight:bold"/>
			<h:inputText id = "fax" value="#{companyBean.company.fax}" p:placeholder="Fax"/>
			<h:message for="fax" style="color:red"></h:message>
			
			<h:outputLabel for = "phone" value = "Phone" style="font-weight:bold"/>
			<h:inputText id = "phone" value="#{companyBean.company.phone}" p:placeholder="Phone"
				required="true" requiredMessage="Phone number is required"/>
			<h:message for="phone" style="color:red"></h:message>
			
			<h:outputLabel for = "web" value = "Web" style="font-weight:bold"/>
			<h:inputText id = "web" value="#{companyBean.company.webpage}" p:placeholder="Web page"/>
			<h:message for="web" style="color:red"></h:message>
			
			<h:outputLabel for = "lic" value = "License" style="font-weight:bold"/>
			<h:inputText id = "lic" value="#{companyBean.company.license}" p:placeholder="Unique license number"
				required="true" requiredMessage="License is required"/>	
			<c:choose>
				<c:when test="#{not empty nonunique}">
					<h:outputText value="License number is not unique"  style="color:red"/>
				</c:when>
				<c:otherwise>
					<h:message for="lic" style="color:red"></h:message>
				</c:otherwise>
			</c:choose>	
			<h:outputLabel for = "licdate" value = "License date" style="font-weight:bold"/>
			<h:inputText id = "licdate" value="#{companyBean.company.licensedate}" p:placeholder="ddmmyyyy"
				required="true" requiredMessage="License date is required">
				<f:convertDateTime type="date" pattern="ddMMyyyy"/>
			</h:inputText>	
			<h:message for="licdate" style="color:red"></h:message>
			
			<h:outputLabel for = "cert" value = "Certificate" style="font-weight:bold"/>
			<h:inputText id = "cert" value="#{companyBean.company.certificate}" p:placeholder="Certificate"
				required="true" requiredMessage="Certificate is required"/>
			<h:message for="cert" style="color:red"></h:message>
			
			<h:outputLabel for = "certdate" value = "Certificate date" style="font-weight:bold"/>
			<h:inputText id = "certdate" value="#{companyBean.company.certdate}" p:placeholder="ddmmyyyy"
				required="true" requiredMessage="Certificate date is required">
				<f:convertDateTime type="date" pattern="ddMMyyyy"/>
			</h:inputText>	
			<h:message for="certdate" style="color:red"></h:message>
			
			<h:outputLabel for = "address" value = "Address" style="font-weight:bold"/>
			<h:inputText id = "address" value="#{companyBean.company.address}" p:placeholder="Address"
				required="true" requiredMessage="Address is required"/>
			<h:message for="address" style="color:red"></h:message>
		</h:panelGrid>
						
		<br/>
		<h:commandButton value="Add" action="#{companyBean.addNewCompany}" />
	</h:form>
</h:body>
</html>
